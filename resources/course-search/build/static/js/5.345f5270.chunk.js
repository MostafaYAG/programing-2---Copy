(this["webpackJsonpcourse-search"]=this["webpackJsonpcourse-search"]||[]).push([[5],{569:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(81),a=Object(c.b)({key:"searchFormSubmittedState",default:{searchFormSubmitted:!1}})},575:function(e,t,n){"use strict";n.r(t);var c=n(13),a=n(1),l=n(30),i=n(127),o=n(174),r=n.n(o),s=n(41),u=n(570),d=n(573),b=n(224),j=n(6),h=n(240),p=n(81),m=n(569);t.default=function(e){var t,n,o,O=e.selectedFilters,x=e.subjectParam,f=e.filtersReader,g=e.isSearch,y=e.hasFilters,S=f(),C=Object(i.b)(),k="".concat(h.a,"/api/taxonomy/names_by_keyword/SUBJ?keyword="),w=Object(l.e)(),v=Object(p.e)(m.a),_=Object(a.useRef)(),T=Object(d.a)(S,y,g,O,x,(function(e){if(_.current!==e){var t="/postgraduate-courses".concat(e);_.current=e,w.push(t)}})),I=T.handleSubjectChange,U=T.handleInputChange,B=T.handleLocationChange,F=T.handleSubmit,R=T.inputs,E=T.inputsCheckedCount,L=Object(a.useCallback)((function(e){v({searchFormSubmitted:!0}),C.emit(h.b.SEARCH_SUBMITTED),F(e)}),[C,F,v]),J=O.keyword||(null===(t=O.subject[0])||void 0===t?void 0:t.text),N=(null===(n=O.location[0])||void 0===n?void 0:n.text)||(null===(o=O.institution[0])||void 0===o?void 0:o.text);return Object(c.jsxs)("form",{onSubmit:L,children:[Object(c.jsx)(j.l,{children:Object(c.jsx)(j.b,{width:[1],children:Object(c.jsx)(s.d,{apiUrl:k,handleChange:I,preselected:J})})}),Object(c.jsx)(j.l,{children:Object(c.jsx)(j.b,{width:[1],marginTop:"12px",marginBottom:[Object(j.s)(1),null,Object(j.s)(2)],children:Object(c.jsx)(u.a,{formLabel:"Location or institution",label:"All locations",name:"location",handleSelected:B,preSelected:N,dataTestId:"location",typeaheadTestId:"location-typeahead",apiUrl:"".concat(h.a,"/api/taxonomy/ungrouped_categories_by_keyword?subject_categories=UK_TOWN_CITY,COUNTRY,HEI_PG,REGION&keyword=")})})}),Object(c.jsx)(j.l,{children:S&&Object.keys(S).map((function(e,t){return Object(c.jsx)(j.b,{width:[1,null,.5,null],marginBottom:"12px",children:Object(c.jsx)(s.a,{label:e,controls:R["".concat(r()(e),"[]")],handleChange:U,selectedCount:E["".concat(r()(e),"[]")]})},"filter-group-".concat(t))}))}),Object(c.jsx)(j.l,{children:Object(c.jsx)(j.b,{width:[10/12,null,4/12,null],marginLeft:[Object(j.p)(1),null,Object(j.p)(4),null,null],marginBottom:["12px",null,0],marginTop:["24px",null,"36px"],children:Object(c.jsx)(b.c,{element:"button",type:"submit",id:"submit","data-testid":"submit",children:"Search courses"})})})]})}}}]);
//# sourceMappingURL=5.345f5270.chunk.js.map